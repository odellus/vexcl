<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>VexCL: vexcl/function.hpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="gh.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">VexCL
   </div>
   <div id="projectbrief">C++ vector expression template library for OpenCL/CUDA</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_4f208546d38190e788493c6962a4c7c8.html">vexcl</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a>  </div>
  <div class="headertitle">
<div class="title">function.hpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>User-defined device functions.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;boost/preprocessor/enum.hpp&gt;</code><br/>
<code>#include &lt;boost/preprocessor/enum_params.hpp&gt;</code><br/>
<code>#include &lt;boost/preprocessor/seq.hpp&gt;</code><br/>
<code>#include &lt;boost/preprocessor/cat.hpp&gt;</code><br/>
<code>#include &lt;boost/preprocessor/tuple.hpp&gt;</code><br/>
<code>#include &lt;boost/preprocessor/stringize.hpp&gt;</code><br/>
<code>#include &lt;<a class="el" href="operations_8hpp.html">vexcl/operations.hpp</a>&gt;</code><br/>
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for function.hpp:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="function_8hpp__incl.png" border="0" usemap="#vexcl_2function_8hpp" alt=""/></div>
<map name="vexcl_2function_8hpp" id="vexcl_2function_8hpp">
<area shape="rect" id="node8" href="operations_8hpp.html" title="Templates used for expression tree traversal and kernel generation. " alt="" coords="1029,88,1183,115"/><area shape="rect" id="node17" href="backend_8hpp.html" title="Compile&#45;time selection of backend (OpenCL/CUDA). " alt="" coords="911,171,1051,197"/><area shape="rect" id="node41" href="types_8hpp.html" title="Support for using native C++ and OpenCL types in expressions. " alt="" coords="1285,419,1405,445"/><area shape="rect" id="node47" href="util_8hpp.html" title="OpenCL general utilities. " alt="" coords="770,419,875,445"/><area shape="rect" id="node18" href="opencl_8hpp.html" title="OpenCL backend for compute kernel generation/compilation/launching. " alt="" coords="2012,245,2199,272"/><area shape="rect" id="node20" href="opencl_2error_8hpp.html" title="Output OpenCL errors to a std::stream. " alt="" coords="2093,411,2251,453"/><area shape="rect" id="node22" href="opencl_2context_8hpp.html" title="OpenCL device enumeration and context initialization. " alt="" coords="1727,411,1885,453"/><area shape="rect" id="node24" href="opencl_2filter_8hpp.html" title="Device filters for OpenCL backend. " alt="" coords="1910,411,2068,453"/><area shape="rect" id="node32" href="opencl_2device__vector_8hpp.html" title="OpenCL device vector. " alt="" coords="2377,321,2535,362"/><area shape="rect" id="node33" href="opencl_2source_8hpp.html" title="Helper class for OpenCL source code generation. " alt="" coords="1441,321,1599,362"/><area shape="rect" id="node45" href="opencl_2compiler_8hpp.html" title="OpenCL source code compilation wrapper. " alt="" coords="2275,411,2433,453"/><area shape="rect" id="node46" href="opencl_2kernel_8hpp.html" title="An abstraction over OpenCL compute kernel. " alt="" coords="2194,321,2352,362"/><area shape="rect" id="node37" href="common_8hpp.html" title="Common backend utilities. " alt="" coords="1937,509,2137,536"/></map>
</div>
</div><div class="textblock"><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> This graph shows which files directly or indirectly include this file:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="function_8hpp__dep__incl.png" border="0" usemap="#vexcl_2function_8hppdep" alt=""/></div>
<map name="vexcl_2function_8hppdep" id="vexcl_2function_8hppdep">
<area shape="rect" id="node2" href="plan_8hpp.html" title="FFT plan, stores kernels and buffers for one configuration. " alt="" coords="5,81,163,122"/><area shape="rect" id="node5" href="vexcl_8hpp.html" title="Vector expression template library for OpenCL. " alt="" coords="311,336,429,363"/><area shape="rect" id="node6" href="sort_8hpp.html" title="Sorting algorithms. " alt="" coords="386,88,496,115"/><area shape="rect" id="node9" href="generator_8hpp.html" title="OpenCL kernel generator. " alt="" coords="417,261,564,288"/><area shape="rect" id="node10" href="scan_8hpp.html" title="Inclusive/Exclusive scan algortihms. " alt="" coords="707,88,823,115"/><area shape="rect" id="node11" href="reduce__by__key_8hpp.html" title="Reduce by key algortihm. " alt="" coords="765,179,944,205"/><area shape="rect" id="node3" href="backend_2opencl_2fft_8hpp.html" title="Fast Fourier Transformation. " alt="" coords="5,171,163,213"/><area shape="rect" id="node4" href="fft_8hpp.html" title="Backend selector for FFT. " alt="" coords="51,261,149,288"/><area shape="rect" id="node7" href="boost__compute_8hpp.html" title="Provides wrappers for some of Boost.Compute (https://github.com/kylelutz/compute) algorithms..." alt="" coords="290,171,440,213"/><area shape="rect" id="node8" href="clogs_8hpp.html" title="Enables use of CLOGS (http://clogs.sourceforge.net) primitives. " alt="" coords="465,179,639,205"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a8c4fa42e03a69b51b7e1af1c59a9a3b9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="function_8hpp.html#a8c4fa42e03a69b51b7e1af1c59a9a3b9">VEX_STRINGIZE_SOURCE</a>(...)&#160;&#160;&#160;BOOST_PP_STRINGIZE(__VA_ARGS__)</td></tr>
<tr class="memdesc:a8c4fa42e03a69b51b7e1af1c59a9a3b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stringizes compute kernel source code.  <a href="#a8c4fa42e03a69b51b7e1af1c59a9a3b9">More...</a><br/></td></tr>
<tr class="separator:a8c4fa42e03a69b51b7e1af1c59a9a3b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf0017163e6fdc6294150a14621aba7a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="function_8hpp.html#aaf0017163e6fdc6294150a14621aba7a">VEX_FUNCTION_V1_TYPE</a>(fname, signature, preamble_str, body_str)</td></tr>
<tr class="memdesc:aaf0017163e6fdc6294150a14621aba7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro to declare a user function type.  <a href="#aaf0017163e6fdc6294150a14621aba7a">More...</a><br/></td></tr>
<tr class="separator:aaf0017163e6fdc6294150a14621aba7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bf20df0e13b7a66875c164a590f42ef"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="function_8hpp.html#a4bf20df0e13b7a66875c164a590f42ef">VEX_FUNCTION_V1</a>(name, signature, body)&#160;&#160;&#160;<a class="el" href="function_8hpp.html#aaf0017163e6fdc6294150a14621aba7a">VEX_FUNCTION_V1_TYPE</a>(name, signature, &quot;&quot;, body) const name</td></tr>
<tr class="memdesc:a4bf20df0e13b7a66875c164a590f42ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro to declare a user function.  <a href="#a4bf20df0e13b7a66875c164a590f42ef">More...</a><br/></td></tr>
<tr class="separator:a4bf20df0e13b7a66875c164a590f42ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfe539edab4604b30954efde30777121"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="function_8hpp.html#abfe539edab4604b30954efde30777121">VEX_FUNCTION_V1_WITH_PREAMBLE</a>(name, signature, preamble, body)&#160;&#160;&#160;<a class="el" href="function_8hpp.html#aaf0017163e6fdc6294150a14621aba7a">VEX_FUNCTION_V1_TYPE</a>(name, signature, preamble, body) const name</td></tr>
<tr class="memdesc:abfe539edab4604b30954efde30777121"><td class="mdescLeft">&#160;</td><td class="mdescRight">Macro to declare a user function with preamble.  <a href="#abfe539edab4604b30954efde30777121">More...</a><br/></td></tr>
<tr class="separator:abfe539edab4604b30954efde30777121"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54d19ce9c5c149d5847233db1420c42b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="function_8hpp.html#a54d19ce9c5c149d5847233db1420c42b">VEX_FUNCTION_SD</a>(type, name, args, deps, body)</td></tr>
<tr class="memdesc:a54d19ce9c5c149d5847233db1420c42b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a user-defined function with dependencies.  <a href="#a54d19ce9c5c149d5847233db1420c42b">More...</a><br/></td></tr>
<tr class="separator:a54d19ce9c5c149d5847233db1420c42b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb33914dba292e41e90f1bab53322b6e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="function_8hpp.html#abb33914dba292e41e90f1bab53322b6e">VEX_FUNCTION_DS</a>&#160;&#160;&#160;<a class="el" href="function_8hpp.html#a54d19ce9c5c149d5847233db1420c42b">VEX_FUNCTION_SD</a></td></tr>
<tr class="memdesc:abb33914dba292e41e90f1bab53322b6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Alias for VEX_FUNCTION_SD.  <a href="#abb33914dba292e41e90f1bab53322b6e">More...</a><br/></td></tr>
<tr class="separator:abb33914dba292e41e90f1bab53322b6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a444918c2441321af1aad57ca26497b8a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="function_8hpp.html#a444918c2441321af1aad57ca26497b8a">VEX_FUNCTION_S</a>(type, name, args, body)&#160;&#160;&#160;<a class="el" href="function_8hpp.html#a54d19ce9c5c149d5847233db1420c42b">VEX_FUNCTION_SD</a>(type, name, args, , body)</td></tr>
<tr class="memdesc:a444918c2441321af1aad57ca26497b8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a user-defined function.  <a href="#a444918c2441321af1aad57ca26497b8a">More...</a><br/></td></tr>
<tr class="separator:a444918c2441321af1aad57ca26497b8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fa0ed22c5b68409359050dfe7d02007"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="function_8hpp.html#a2fa0ed22c5b68409359050dfe7d02007">VEX_FUNCTION_D</a>(type, name, args, deps,...)&#160;&#160;&#160;<a class="el" href="function_8hpp.html#a54d19ce9c5c149d5847233db1420c42b">VEX_FUNCTION_SD</a>(type, name, args, deps, BOOST_PP_STRINGIZE(__VA_ARGS__) )</td></tr>
<tr class="memdesc:a2fa0ed22c5b68409359050dfe7d02007"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a user-defined function with dependencies.  <a href="#a2fa0ed22c5b68409359050dfe7d02007">More...</a><br/></td></tr>
<tr class="separator:a2fa0ed22c5b68409359050dfe7d02007"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7400e4a862aa1eb7bdf7447352f8a390"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="function_8hpp.html#a7400e4a862aa1eb7bdf7447352f8a390">VEX_FUNCTION</a>(type, name, args,...)&#160;&#160;&#160;<a class="el" href="function_8hpp.html#a444918c2441321af1aad57ca26497b8a">VEX_FUNCTION_S</a>(type, name, args, BOOST_PP_STRINGIZE(__VA_ARGS__))</td></tr>
<tr class="memdesc:a7400e4a862aa1eb7bdf7447352f8a390"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a user-defined function.  <a href="#a7400e4a862aa1eb7bdf7447352f8a390">More...</a><br/></td></tr>
<tr class="separator:a7400e4a862aa1eb7bdf7447352f8a390"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeda978a75bc00cac821562e960fd425f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="function_8hpp.html#aeda978a75bc00cac821562e960fd425f">VEX_DUAL_FUNCTOR</a>(type, args,...)</td></tr>
<tr class="memdesc:aeda978a75bc00cac821562e960fd425f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines both device and host versions of a function call operator.  <a href="#aeda978a75bc00cac821562e960fd425f">More...</a><br/></td></tr>
<tr class="separator:aeda978a75bc00cac821562e960fd425f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>User-defined device functions. </p>
<dl class="section author"><dt>Author</dt><dd>Denis Demidov <a href="#" onclick="location.href='mai'+'lto:'+'den'+'ni'+'s.d'+'em'+'ido'+'v@'+'gma'+'il'+'.co'+'m'; return false;">denni<span style="display: none;">.nosp@m.</span>s.de<span style="display: none;">.nosp@m.</span>midov<span style="display: none;">.nosp@m.</span>@gma<span style="display: none;">.nosp@m.</span>il.co<span style="display: none;">.nosp@m.</span>m</a> </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="aeda978a75bc00cac821562e960fd425f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VEX_DUAL_FUNCTOR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">type, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">args, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="function_8hpp.html#a7400e4a862aa1eb7bdf7447352f8a390">VEX_FUNCTION</a>(type, device, args, __VA_ARGS__);                             \</div>
<div class="line">    VEX_DUAL_FUNCTOR_SINK(type,                                                \</div>
<div class="line">            BOOST_PP_SEQ_SIZE(VEXCL_FUNCTION_MAKE_SEQ(args)),                  \</div>
<div class="line">            VEXCL_FUNCTION_MAKE_SEQ(args), __VA_ARGS__)</div>
<div class="ttc" id="function_8hpp_html_a7400e4a862aa1eb7bdf7447352f8a390"><div class="ttname"><a href="function_8hpp.html#a7400e4a862aa1eb7bdf7447352f8a390">VEX_FUNCTION</a></div><div class="ttdeci">#define VEX_FUNCTION(type, name, args,...)</div><div class="ttdoc">Create a user-defined function. </div><div class="ttdef"><b>Definition:</b> function.hpp:299</div></div>
</div><!-- fragment -->
<p>Defines both device and host versions of a function call operator. </p>
<p>The intended use is the creation of comparison and reduction functors for use with scan/sort/reduce algorithms.</p>
<p>Example: </p>
<div class="fragment"><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line"><span class="keyword">struct </span>less {</div>
<div class="line">    <a class="code" href="function_8hpp.html#aeda978a75bc00cac821562e960fd425f">VEX_DUAL_FUNCTOR</a>(<span class="keywordtype">bool</span>, (T, a)(T, b),</div>
<div class="line">        <span class="keywordflow">return</span> a &lt; b;</div>
<div class="line">        )</div>
<div class="line">};</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a7400e4a862aa1eb7bdf7447352f8a390"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VEX_FUNCTION</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">type, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">args, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="function_8hpp.html#a444918c2441321af1aad57ca26497b8a">VEX_FUNCTION_S</a>(type, name, args, BOOST_PP_STRINGIZE(__VA_ARGS__))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a user-defined function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>Return type of the function. </td></tr>
    <tr><td class="paramname">name</td><td>Name of the function. </td></tr>
    <tr><td class="paramname">args</td><td>Arguments of the function. Specified as a preprocessor sequence of tuples. In each of the tuples the first element argument type, and the second element defines argument name.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Body of the function is specified as unquoted C source at the end of the macro.</dd></dl>
<p>Example: </p>
<div class="fragment"><div class="line"><a class="code" href="function_8hpp.html#a7400e4a862aa1eb7bdf7447352f8a390">VEX_FUNCTION</a>(<span class="keywordtype">double</span>, foo, (<span class="keywordtype">double</span>, x)(<span class="keywordtype">double</span>, y),</div>
<div class="line">   <span class="keywordflow">return</span> (x + y) * (x - y);</div>
<div class="line">   );</div>
<div class="line"></div>
<div class="line"><a class="code" href="classvex_1_1vector.html">vex::vector&lt;double&gt;</a> x(ctx, n), y(ctx, n), z(ctx, n);</div>
<div class="line">z = foo(x, y);</div>
</div><!-- fragment --> 
<p>Referenced by <a class="el" href="namespacevex.html#ae253d3b2dd8a5fd26a14dec81d8a51c2">vex::reduce_by_key()</a>.</p>

</div>
</div>
<a class="anchor" id="a2fa0ed22c5b68409359050dfe7d02007"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VEX_FUNCTION_D</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">type, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">args, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">deps, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="function_8hpp.html#a54d19ce9c5c149d5847233db1420c42b">VEX_FUNCTION_SD</a>(type, name, args, deps, BOOST_PP_STRINGIZE(__VA_ARGS__) )</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a user-defined function with dependencies. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>Return type of the function. </td></tr>
    <tr><td class="paramname">name</td><td>Name of the function. </td></tr>
    <tr><td class="paramname">args</td><td>Arguments of the function. Specified as a preprocessor sequence of tuples. In each of the tuples the first element argument type, and the second element defines argument name. </td></tr>
    <tr><td class="paramname">deps</td><td>User-defined functions that are called inside the body of the function that is being defined. Specified as a preprocessor sequence of function names.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Body of the function is specified as unquoted C source at the end of the macro.</dd></dl>
<p>Example: </p>
<div class="fragment"><div class="line"><a class="code" href="function_8hpp.html#a2fa0ed22c5b68409359050dfe7d02007">VEX_FUNCTION_D</a>(<span class="keywordtype">double</span>, foo, (<span class="keywordtype">double</span>, x)(<span class="keywordtype">double</span>, y), (bar)(baz),</div>
<div class="line">   <span class="keywordflow">return</span> bar(x + y) * baz(x - y);</div>
<div class="line">   );</div>
<div class="line"></div>
<div class="line"><a class="code" href="classvex_1_1vector.html">vex::vector&lt;double&gt;</a> x(ctx, n), y(ctx, n), z(ctx, n);</div>
<div class="line">z = foo(x, y);</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="abb33914dba292e41e90f1bab53322b6e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VEX_FUNCTION_DS&#160;&#160;&#160;<a class="el" href="function_8hpp.html#a54d19ce9c5c149d5847233db1420c42b">VEX_FUNCTION_SD</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Alias for VEX_FUNCTION_SD. </p>
<p>Create a user-defined function with dependencies. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>Return type of the function. </td></tr>
    <tr><td class="paramname">name</td><td>Name of the function. </td></tr>
    <tr><td class="paramname">args</td><td>Arguments of the function. Specified as a preprocessor sequence of tuples. In each of the tuples the first element argument type, and the second element defines argument name. </td></tr>
    <tr><td class="paramname">deps</td><td>User-defined functions that are called inside the body of the function that is being defined. Specified as a preprocessor sequence of function names. </td></tr>
    <tr><td class="paramname">body</td><td>Body of the function specified as string.</td></tr>
  </table>
  </dd>
</dl>
<p>Example: </p>
<div class="fragment"><div class="line"><a class="code" href="function_8hpp.html#a54d19ce9c5c149d5847233db1420c42b">VEX_FUNCTION_SD</a>(<span class="keywordtype">double</span>, foo, (<span class="keywordtype">double</span>, x)(<span class="keywordtype">double</span>, y), (bar)(baz),</div>
<div class="line">   <span class="stringliteral">&quot;return bar(x + y) * baz(x - y);&quot;</span>);</div>
<div class="line"></div>
<div class="line"><a class="code" href="classvex_1_1vector.html">vex::vector&lt;double&gt;</a> x(ctx, n), y(ctx, n), z(ctx, n);</div>
<div class="line">z = foo(x, y);</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a444918c2441321af1aad57ca26497b8a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VEX_FUNCTION_S</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">type, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">args, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">body&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="function_8hpp.html#a54d19ce9c5c149d5847233db1420c42b">VEX_FUNCTION_SD</a>(type, name, args, , body)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a user-defined function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>Return type of the function. </td></tr>
    <tr><td class="paramname">name</td><td>Name of the function. </td></tr>
    <tr><td class="paramname">args</td><td>Arguments of the function. Specified as a preprocessor sequence of tuples. In each of the tuples the first element argument type, and the second element defines argument name. </td></tr>
    <tr><td class="paramname">deps</td><td>User-defined functions that are called inside the body of the function that is being defined. Specified as a preprocessor sequence of function names. </td></tr>
    <tr><td class="paramname">body</td><td>Body of the function specified as string.</td></tr>
  </table>
  </dd>
</dl>
<p>Example: </p>
<div class="fragment"><div class="line"><a class="code" href="function_8hpp.html#a444918c2441321af1aad57ca26497b8a">VEX_FUNCTION_S</a>(<span class="keywordtype">double</span>, foo, (<span class="keywordtype">double</span>, x)(<span class="keywordtype">double</span>, y),</div>
<div class="line">   <span class="stringliteral">&quot;return (x + y) * (x - y);&quot;</span>);</div>
<div class="line"></div>
<div class="line"><a class="code" href="classvex_1_1vector.html">vex::vector&lt;double&gt;</a> x(ctx, n), y(ctx, n), z(ctx, n);</div>
<div class="line">z = foo(x, y);</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a54d19ce9c5c149d5847233db1420c42b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VEX_FUNCTION_SD</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">type, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">args, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">deps, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">body&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">VEX_FUNCTION_SINK(type, name,                                              \</div>
<div class="line">            BOOST_PP_SEQ_SIZE(VEXCL_FUNCTION_MAKE_SEQ(args)),                  \</div>
<div class="line">            VEXCL_FUNCTION_MAKE_SEQ(args), deps, body)</div>
</div><!-- fragment -->
<p>Create a user-defined function with dependencies. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>Return type of the function. </td></tr>
    <tr><td class="paramname">name</td><td>Name of the function. </td></tr>
    <tr><td class="paramname">args</td><td>Arguments of the function. Specified as a preprocessor sequence of tuples. In each of the tuples the first element argument type, and the second element defines argument name. </td></tr>
    <tr><td class="paramname">deps</td><td>User-defined functions that are called inside the body of the function that is being defined. Specified as a preprocessor sequence of function names. </td></tr>
    <tr><td class="paramname">body</td><td>Body of the function specified as string.</td></tr>
  </table>
  </dd>
</dl>
<p>Example: </p>
<div class="fragment"><div class="line"><a class="code" href="function_8hpp.html#a54d19ce9c5c149d5847233db1420c42b">VEX_FUNCTION_SD</a>(<span class="keywordtype">double</span>, foo, (<span class="keywordtype">double</span>, x)(<span class="keywordtype">double</span>, y), (bar)(baz),</div>
<div class="line">   <span class="stringliteral">&quot;return bar(x + y) * baz(x - y);&quot;</span>);</div>
<div class="line"></div>
<div class="line"><a class="code" href="classvex_1_1vector.html">vex::vector&lt;double&gt;</a> x(ctx, n), y(ctx, n), z(ctx, n);</div>
<div class="line">z = foo(x, y);</div>
</div><!-- fragment --> 
</div>
</div>
<a class="anchor" id="a4bf20df0e13b7a66875c164a590f42ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VEX_FUNCTION_V1</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">signature, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">body&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="function_8hpp.html#aaf0017163e6fdc6294150a14621aba7a">VEX_FUNCTION_V1_TYPE</a>(name, signature, &quot;&quot;, body) const name</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Macro to declare a user function. </p>
<div class="fragment"><div class="line"><a class="code" href="function_8hpp.html#a4bf20df0e13b7a66875c164a590f42ef">VEX_FUNCTION_V1</a>(pow3, <span class="keywordtype">double</span>(<span class="keywordtype">double</span>), <span class="stringliteral">&quot;return pow(prm1, 3.0);&quot;</span>);</div>
<div class="line">output = pow3(input);</div>
</div><!-- fragment --><dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000003">Deprecated:</a></b></dt><dd></dd></dl>
<dl class="section note"><dt>Note</dt><dd>This version of the macro uses function call signature in order to define the function paramaters. Parameters are named automatically (prm1, prm2, ...), which reduces readability of the code. Use of VEX_FUNCTION is recommended instead. </dd></dl>

</div>
</div>
<a class="anchor" id="aaf0017163e6fdc6294150a14621aba7a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VEX_FUNCTION_V1_TYPE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">fname, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">signature, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">preamble_str, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">body_str&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keyword">struct </span>vex_function_##fname                                                  \</div>
<div class="line">    : vex::UserFunction&lt;vex_function_##fname, signature&gt;                       \</div>
<div class="line">  {                                                                            \</div>
<div class="line">    vex_function_##fname() {}                                                  \</div>
<div class="line">    static std::string name() { <span class="keywordflow">return</span> #fname; }                               \</div>
<div class="line">    static std::string preamble() { <span class="keywordflow">return</span> preamble_str; }                     \</div>
<div class="line">    static std::string body() { <span class="keywordflow">return</span> body_str; }                             \</div>
<div class="line">  }</div>
</div><!-- fragment -->
<p>Macro to declare a user function type. </p>
<div class="fragment"><div class="line"><a class="code" href="function_8hpp.html#aaf0017163e6fdc6294150a14621aba7a">VEX_FUNCTION_V1_TYPE</a>(pow3_t, <span class="keywordtype">double</span>(<span class="keywordtype">double</span>), <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;return pow(prm1, 3.0);&quot;</span>);</div>
<div class="line">pow3_t pow3;</div>
<div class="line">output = pow3(input);</div>
</div><!-- fragment --><dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000002">Deprecated:</a></b></dt><dd></dd></dl>
<dl class="section note"><dt>Note</dt><dd>This version of the macro uses function call signature in order to define the function paramaters. Parameters are named automatically (prm1, prm2, ...), which reduces readability of the code. Use of VEX_FUNCTION is recommended instead.</dd>
<dd>
Should be used in case same function is used in several places (to save on OpenCL kernel recompilations). Otherwise VEX_FUNCTION should be used locally. </dd></dl>

</div>
</div>
<a class="anchor" id="abfe539edab4604b30954efde30777121"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VEX_FUNCTION_V1_WITH_PREAMBLE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">name, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">signature, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">preamble, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">body&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="function_8hpp.html#aaf0017163e6fdc6294150a14621aba7a">VEX_FUNCTION_V1_TYPE</a>(name, signature, preamble, body) const name</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Macro to declare a user function with preamble. </p>
<p>The preamble may be used to define helper functions or macros. </p>
<div class="fragment"><div class="line"><a class="code" href="function_8hpp.html#abfe539edab4604b30954efde30777121">VEX_FUNCTION_V1_WITH_PREAMBLE</a>(one, <span class="keywordtype">double</span>(<span class="keywordtype">double</span>),</div>
<div class="line">        <span class="stringliteral">&quot;double sin2(double x) { return pow(sin(x), 2.0); }\n&quot;</span></div>
<div class="line">        <span class="stringliteral">&quot;double cos2(double x) { return pow(cos(x), 2.0); }\n&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;return sin2(prm1) + cos2(prm1);&quot;</span></div>
<div class="line">        );</div>
<div class="line">y = one(x);</div>
</div><!-- fragment --><dl class="deprecated"><dt><b><a class="el" href="deprecated.html#_deprecated000004">Deprecated:</a></b></dt><dd></dd></dl>
<dl class="section note"><dt>Note</dt><dd>This version of the macro uses function call signature in order to define the function paramaters. Parameters are named automatically (prm1, prm2, ...), which reduces readability of the code. Use of VEX_FUNCTION is recommended instead. </dd></dl>

</div>
</div>
<a class="anchor" id="a8c4fa42e03a69b51b7e1af1c59a9a3b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VEX_STRINGIZE_SOURCE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em></td><td>)</td>
          <td>&#160;&#160;&#160;BOOST_PP_STRINGIZE(__VA_ARGS__)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stringizes compute kernel source code. </p>
<p>Example: </p>
<div class="fragment"><div class="line"><a class="code" href="function_8hpp.html#a4bf20df0e13b7a66875c164a590f42ef">VEX_FUNCTION_V1</a>(diff_cube, <span class="keywordtype">double</span>(<span class="keywordtype">double</span>, <span class="keywordtype">double</span>),</div>
<div class="line">    <a class="code" href="function_8hpp.html#a8c4fa42e03a69b51b7e1af1c59a9a3b9">VEX_STRINGIZE_SOURCE</a>(</div>
<div class="line">        <span class="keywordtype">double</span> d = prm1 - prm2;</div>
<div class="line">        <span class="keywordflow">return</span> d * d * d;</div>
<div class="line">        )</div>
<div class="line">    );</div>
</div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.5
</small></address>
</body>
</html>
